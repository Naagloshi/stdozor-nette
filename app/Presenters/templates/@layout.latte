<!DOCTYPE html>
<html lang="cs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{ifset title}{include title} | {/ifset}{_ 'messages.app.name'}</title>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>üèóÔ∏è</text></svg>">

	{* PhotoSwipe CSS *}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5.4.3/dist/photoswipe.css">

	{* Tailwind CSS CDN *}
	<script src="https://cdn.tailwindcss.com"></script>
	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						primary: {
							50: '#e7f1ff',
							100: '#cfe2ff',
							200: '#9ec5ff',
							300: '#6ea8ff',
							400: '#3d8bff',
							500: '#0d6efd',
							600: '#0a58ca',
							700: '#084298',
							800: '#052c65',
							900: '#031633',
						},
						success: '#198754',
						warning: '#ffc107',
						danger: '#dc3545',
						info: '#0dcaf0',
					}
				}
			}
		}
	</script>

	{* Custom CSS *}
	<link rel="stylesheet" href="{$basePath}/assets/app.css">

	{block stylesheets}{/block}
</head>
<body class="flex flex-col min-h-screen">
	{include '_navigation.latte'}

	{snippet flashes}
	{include '_toast.latte'}
	{/snippet}

	<main class="flex-grow">
		{block content}{/block}
	</main>

	{* Sd√≠len√Ω confirm modal *}
	<div id="confirm-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
		<div id="confirm-modal-backdrop" class="absolute inset-0 bg-black/50 transition-opacity duration-200 opacity-0"></div>
		<div id="confirm-modal-dialog" class="relative bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 transition-all duration-200 opacity-0 scale-95">
			<div class="flex items-center gap-3 mb-4">
				<div class="flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center">
					<svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>
					</svg>
				</div>
				<h3 class="text-lg font-semibold text-gray-900">{_ 'messages.confirm.title'}</h3>
			</div>
			<p id="confirm-modal-message" class="text-sm text-gray-600 mb-6"></p>
			<div class="flex justify-end gap-3">
				<button id="confirm-modal-cancel" type="button" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition">
					{_ 'messages.confirm.cancel'}
				</button>
				<button id="confirm-modal-confirm" type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition">
					{_ 'messages.confirm.confirm_delete'}
				</button>
			</div>
		</div>
	</div>

	{include '_footer.latte'}

	{block scripts}
		{* PhotoSwipe JS *}
		<script src="https://cdn.jsdelivr.net/npm/photoswipe@5.4.3/dist/umd/photoswipe.umd.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/photoswipe@5.4.3/dist/umd/photoswipe-lightbox.umd.min.js"></script>

		{* Stimulus + Naja via importmap *}
		<script type="importmap" n:syntax="off">
		{
			"imports": {
				"@hotwired/stimulus": "https://cdn.jsdelivr.net/npm/@hotwired/stimulus@3.2.2/+esm",
				"naja": "https://cdn.jsdelivr.net/npm/naja@3/+esm"
			}
		}
		</script>
		<script type="module" src="{$basePath}/assets/app.js"></script>
	{/block}
</body>
</html>
